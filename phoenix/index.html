<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Phoenix - Lá ngón</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
	
	<script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="..">Lá ngón</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="..">Home</a>
                    </li>
                    <li >
                        <a href="../after-basic/">After basic</a>
                    </li>
                    <li >
                        <a href="../db/">Db</a>
                    </li>
                    <li >
                        <a href="../http-client/">Http client</a>
                    </li>
                    <li class="active">
                        <a href="./">Phoenix</a>
                    </li>
                    <li >
                        <a href="../process/">Process</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../http-client/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../process/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#phoenix-web-framework">Phoenix web framework</a></li>
            <li><a href="#thanh-phan-cau-tao">Thành phần cấu tạo</a></li>
            <li><a href="#cai-at-phoenix">Cài đặt Phoenix</a></li>
            <li><a href="#tao-mot-phoenix-project">Tạo một Phoenix project</a></li>
            <li><a href="#chay">Chạy</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="phoenix-web-framework">Phoenix web framework</h1>
<p>Nếu Ruby có Ruby on Rails, Python có Django thì Elixir có Phoenix.
Về cơ bản thì các framework này khá giống nhau, cung cấp tinh năng
tương tự nhau. Vì vậy những gì bạn có thể làm với một framework thì khả
năng lớn bạn cũng làm được với framework khác.</p>
<p>Phoenix ra đời ngày 12 tháng 1 năm 2014 (theo GitHub, commit đầu tiên)
 và đến nay đã nhận được gần 10.000 sao trên GitHub.
Phiên bản tại thời điểm viết bài này là 1.2.4.</p>
<p>Code có thể xem trên GitHub: https://github.com/phoenixframework/phoenix</p>
<h2 id="thanh-phan-cau-tao">Thành phần cấu tạo</h2>
<p>Phoenix gồm những thành phần sau:
- Endpoint
- Router
- Controller
- View
- Template
- Channel
- PubSub</p>
<h3 id="router">Router</h3>
<p>Router là thành phần tối thiểu của mọi web framework dù trong bất cứ ngôn ngữ nào (Python Flask, Golang Echo, ...),
nó làm nhiệm vụ chọn function để chạy tương ứng với đường dẫn mà người dùng yêu cầu - hay chọn đường để đi - 
vì vậy gọi là router.</p>
<p>Trong Phoenix, nó sẽ ghép từng đường dẫn với controller/action tương ứng.</p>
<h3 id="controller">Controller</h3>
<p>Controller là Elixir module, nó chứa các function (Phoenix sẽ gọi là action) để xử lý 
một kết nối của người dùng (request).</p>
<h3 id="template">Template</h3>
<p>Là các file HTML được để trống nhiều chỗ (vì thế gọi là template), để view sẽ chọn các giá trị và 
điền vào (render).</p>
<h3 id="view">View</h3>
<p>View thực hiện render template</p>
<h3 id="ecto">Ecto</h3>
<p>Ecto là thư viện thực hiện xử lý tương tác với database (thường là PostgreSQL, SQLite3, MySQL...)
Trong các ngôn ngữ lập trình hướng đối tượng (OOP) như Ruby, Django sẽ gọi đây là ORM.
Elixir là ngôn ngữ lập trình hàm (functional programming), không có object, vì vậy không gọi là ORM.
Ecto dùng kiểu dữ liệu struct (tương tự map/dictionary) để biểu diễn một đối tượng.</p>
<h4 id="repo">Repo</h4>
<p>Một kết nối tới DB gọi là một "repo"</p>
<h4 id="changeset">Changeset</h4>
<p>Changeset là một thay đổi cần thực hiện trên model data như validation...</p>
<p>Các thành phần còn lại chưa cần thiết phải nhắc tới tại đây.</p>
<h2 id="cai-at-phoenix">Cài đặt Phoenix</h2>
<p>Trả lời <code>Yes</code> cho mọi câu hỏi.</p>
<p>Cài Hex - package manager của Erlang - vì Elixir dùng nhiều thư viện của Erlang.</p>
<pre><code class="sh">mix local.hex
</code></pre>

<p>Cài Phoenix</p>
<pre><code class="sh">mix archive.install https://github.com/phoenixframework/archives/raw/master/phoenix_new.ez
</code></pre>

<p>Tham khảo <a href="../www.phoenixframework.org">trang chủ của Phoenix</a> nếu gặp lỗi bất kỳ.</p>
<h2 id="tao-mot-phoenix-project">Tạo một Phoenix project</h2>
<p>Chú ý: Câu lệnh này sẽ yêu cầu cài NodeJS, Brunch...
các câu lệnh này để xử lý static file cho một Phoenix Project.
Nếu không muốn dùng, hãy thêm <code>--no-brunch</code> vào cuối câu lệnh.</p>
<pre><code>mix phoenix.new hello_phoenix
* creating hello_phoenix/config/config.exs
* creating hello_phoenix/config/dev.exs
* creating hello_phoenix/config/prod.exs
* creating hello_phoenix/config/prod.secret.exs
* creating hello_phoenix/config/test.exs
...
</code></pre>

<p><code>hello_phoenix</code> là tên của project, nó cũng có thể là một đường dẫn tuyệt đối.</p>
<p>Câu lệnh này sẽ tạo ra các file code Elixir cần thiết cho một Phoenix Project, theo cấu trúc
tiêu chuẩn của Phoenix.</p>
<h2 id="chay">Chạy</h2>
<p>Di chuyển vào thư mục chứa code ta đã tạo ở trên.</p>
<pre><code class="sh">cd hello_phoenix
</code></pre>

<p>Trong này sẽ chứa file <code>mix.exs</code>.</p>
<pre><code class="sh">mix ecto.create # tạo database
mix phoenix.server
</code></pre>

<p>Và vào xem trang mặc định sau khi Phoenix tạo qua địa chỉ http://localhost:4000/</p>
<p>web/ : contains anything whose state lasts for the duration of a web request
lib/ : shared modules and anything that needs to manage state outside of the duration of a web requests.</p>
<p>web/router.ex
get "/", PageController, :index
/ -&gt;&gt; web/controllers/page_controller.ex </p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '..';</script>
        <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
        <script src="../js/base.js"></script><div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
