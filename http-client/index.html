<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Http client - L√° ng√≥n</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
	
	<script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="..">L√° ng√≥n</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="..">Home</a>
                    </li>
                    <li >
                        <a href="../after-basic/">After basic</a>
                    </li>
                    <li class="active">
                        <a href="./">Http client</a>
                    </li>
                    <li >
                        <a href="../process/">Process</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../after-basic/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../process/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#http-json">HTTP &amp; JSON</a></li>
            <li><a href="#chon-thu-vien-nao">Ch·ªçn th∆∞ vi·ªán n√†o?</a></li>
            <li><a href="#lay-du-lieu-tu-github-api">L·∫•y d·ªØ li·ªáu t·ª´ GitHub API</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="http-json">HTTP &amp; JSON</h1>
<p>Sau khi ƒë√£ n·∫Øm ƒë∆∞·ª£c c√°c kh√°i ni·ªám c∆° b·∫£n c·ªßa Elixir, th√¨ m·ªôt vi·ªác ·∫Øt ph·∫£i l√†m v√¨ v√¥ c√πng quan tr·ªçng: ƒë√≥ l√† bi·∫øt c√°ch d√πng th∆∞ vi·ªán ngo√†i (th∆∞ vi·ªán kh√¥ng c√≥ s·∫µn khi c√†i Elixir/ th∆∞ vi·ªán b√™n th·ª© 3).</p>
<h2 id="chon-thu-vien-nao">Ch·ªçn th∆∞ vi·ªán n√†o?</h2>
<p>C√¢u h·ªèi t∆∞·ªüng ch·ª´ng ƒë∆°n gi·∫£n n√†y th·ª±c ra l√† m·ªôt c√¢u h·ªèi r·∫•t nguy hi·ªÉm, kh√≥ tr·∫£ l·ªùi, c≈©ng c√πng ki·ªÉu nh∆∞ c√¢u "t·ªëi nay ƒÉn g√¨" ƒë√£ khi·∫øn cho h√†ng ng√†n c·∫∑p ƒë√¥i r∆°i v√†o nh·ªØng cu·ªôc c√£i c·ªç...</p>
<p>Ta kh√¥ng c·∫ßn ph·∫£i ƒëau ƒë·∫ßu hay ƒë·∫Øn ƒëo g√¨, m·ªôt th∆∞ vi·ªán h·ªó tr·ª£ g·ª≠i HTTP request (GET/POST) s·∫Ω l√† th·ª© h·ªØu d·ª•ng v√† th·ª±c t·∫ø nh·∫•t b·∫°n c√≥ th·ªÉ d√πng. Ch·ªâ ƒë∆°n thu·∫ßn bi·∫øt d√πng HTTP client g·ªçi v√†o c√°c API, ta ƒë√£ c√≥ m·ªôt ƒë·ªëng d·ªØ li·ªáu ƒë·ªÉ l√†m ra m·ªôt c√°i g√¨ ƒë√≥ c√≥ √≠ch.
D·ªØ li·ªáu tr·∫£ v·ªÅ khi ta g·ªçi c√°c API s·∫Ω c√≥ format JSON, m·ªôt th∆∞ vi·ªán JSON s·∫Ω l√† v√¥ c√πng quan tr·ªçng ·ªü ƒë√¢y.</p>
<h3 id="httpotion-http-client">HTTPotion - HTTP client</h3>
<p>Elixir ch·∫°y tr√™n m√°y ·∫£o BEAM c·ªßa Erlang, n√™n th∆∞ vi·ªán HTTP client c·ªßa Erlang th√¨ ƒë√£ s·∫µn, ho√†n thi·ªán h√†ng ch·ª•c nƒÉm r·ªìi. Ng∆∞·ªùi ta ch·ªâ c·∫ßn th√™m b·ªõt m·ªôt ch√∫t sao cho tr√¥ng n√≥ "Elixir" h∆°n l√† ƒë∆∞·ª£c.</p>
<p><a href="https://github.com/myfreeweb/httpotion">HTTPotion</a> l√† th∆∞ vi·ªán ƒë∆∞·ª£c l·ª±a ch·ªçn ·ªü ƒë√¢y, n√≥ c≈©ng c√≥ v·∫ª l√† th∆∞ vi·ªán ph·ªï bi·∫øn nh·∫•t trong c√°c HTTP client c·ªßa Elixir.  HTTPotion x√¢y d·ª±ng d·ª±a tr√™n th∆∞ vi·ªán "hackney" c·ªßa Erlang.</p>
<p>Vi·ªác qu·∫£n l√Ω c√°c th∆∞ vi·ªán ƒë∆∞·ª£c Mix x·ª≠ l√Ω r·∫•t ƒë∆°n gi·∫£n:
- Th√™m t√™n c·ªßa th∆∞ vi·ªán v√†o list trong function <code>deps</code>
- Ch·∫°y <code>mix deps.get</code> ƒë·ªÉ t·∫£i th∆∞ vi·ªán v·ªÅ
- B·∫≠t <code>iex -S mix</code> ƒë·ªÉ load th∆∞ vi·ªán v√†o r·ªìi d√πng trong ch·∫ø ƒë·ªô interactive.</p>
<pre><code>defp deps do
  [
    {:poison, &quot;~&gt; 3.1&quot;}
    {:httpotion, &quot;~&gt; 3.0.2&quot;},
    #...
  ]
end
</code></pre>

<h3 id="poison-json-library">Poison - JSON library</h3>
<p>Ta c√†i <a href="https://github.com/devinus/poison">th∆∞ vi·ªán Poison - th∆∞ vi·ªán x·ª≠ l√Ω JSON</a> ph·ªï bi·∫øn nh·∫•t c·ªßa Elixir.</p>
<h2 id="lay-du-lieu-tu-github-api">L·∫•y d·ªØ li·ªáu t·ª´ GitHub API</h2>
<p>Th·ª≠ d√πng b·ªô ƒë√¥i th∆∞ vi·ªán n√†y ƒë·ªÉ l·∫•y danh s√°ch c√°c contributor c·ªßa <a href="https://github.com/saltstack/salt/">SaltStack</a> d√πng GitHub API:</p>
<pre><code>iex(2)&gt; {:ok, response} = HTTPoison.get &quot;https://api.github.com/repos/saltstack/salt/contributors?page=3&quot;
{:ok,
 %HTTPoison.Response{body: &quot;[{\&quot;login\&quot;:\&quot;kjkuan\&quot;,\&quot;id\&quot;:973329,\&quot;avatar_url\&quot;:\&quot;
...

iex(5)&gt; {:ok, contribs} = Poison.decode(Map.get(response, :body))
{:ok,
 [%{&quot;avatar_url&quot; =&gt; &quot;https://avatars3.githubusercontent.com/u/973329?v=3&quot;,
    &quot;contributions&quot; =&gt; 88,
    &quot;events_url&quot; =&gt; &quot;https://api.github.com/users/kjkuan/events{/privacy}&quot;,
...

iex(6)&gt; contribs |&gt; Enum.map(fn contrib -&gt; Map.get(contrib, &quot;login&quot;) end)
[&quot;kjkuan&quot;, &quot;thedrow&quot;, &quot;alexbleotu&quot;, &quot;bdrung&quot;, &quot;robertkeizer&quot;, &quot;hvnsweeting&quot;,
 &quot;jhutchins&quot;, &quot;giantlock&quot;, &quot;aboe76&quot;, &quot;multani&quot;, &quot;herlo&quot;, &quot;0xf10e&quot;, &quot;ranl&quot;,
 &quot;evinrude&quot;, &quot;baijum&quot;, &quot;cedwards&quot;, &quot;lorengordon&quot;, &quot;syphernl&quot;, &quot;bbinet&quot;, &quot;m03&quot;,
 &quot;kaithar&quot;, &quot;MTecknology&quot;, &quot;rominf&quot;, &quot;akissa&quot;, &quot;claudiupopescu&quot;, &quot;jodv&quot;,
 &quot;inthecloud247&quot;, &quot;castor-morveer&quot;, &quot;fxdgear&quot;, &quot;markusgattol&quot;]
</code></pre>

<p>ƒê∆°n gi·∫£n, ng·∫Øn g·ªçn, s·∫°ch s·∫Ω üèÜ</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '..';</script>
        <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
        <script src="../js/base.js"></script><div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
